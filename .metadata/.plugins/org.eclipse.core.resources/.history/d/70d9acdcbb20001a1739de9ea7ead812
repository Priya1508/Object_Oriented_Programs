package com.bridgelabz.addressbook.services;

import java.util.List;

import com.bridgelabz.addressbook.model.PersonalDetails;

public class Operation {
	Utility u = new Utility();

	public List<PersonalDetails> addUser(List<PersonalDetails> listOfPerson) {
		do {
			PersonalDetails person = new PersonalDetails();

			System.out.println("Enter the First Name: ");
			person.setFname(u.inputString());

			System.out.println("Enter the Last Name: ");
			person.setLname(u.inputString());

			System.out.println("Enter the Address: ");
			person.setAddress(u.inputString());

			System.out.println("Enter the City: ");
			person.setCity(u.inputString());

			System.out.println("Enter the State: ");
			person.setState(u.inputString());

			System.out.println("Enter the Zip Code: ");
			person.setZip(u.inputInteger());

			System.out.println("Enter the Phone Number: ");
			person.setPhn(u.inputLong());

			listOfPerson.add(person);
			System.out.println("Person added successfully");
			System.out.println("To add more person type true");
			return listOfPerson;

		} while (u.inputBoolean());
	}

	public boolean deleteUser(List<PersonalDetails> listOfPerson) {
		do 
		{
			System.out.println("Enter the First Name of the person you want to delete: ");
			String firstName = u.inputString();

			for (int i = 0; i < listOfPerson.size(); i++) 
			{
				if (listOfPerson.get(i).getFname().equals(firstName)) 
				{
					listOfPerson.remove(i);
					System.out.println("Person's detail deleted successfully");
					System.out.println("To delete more person ");
					return true;
				}
				else
				{
					System.out.println("data not found");
					return false;
				}
			}
		} while (u.inputBoolean());
		return false;
	}

	public List<PersonalDetails> editUser(List<PersonalDetails> listOfPerson)
	{
		PersonalDetails person=new PersonalDetails();
	    Utility u =new Utility();
	    System.out.println("Enter the First Name you want to make changes in: ");
	    String fname=u.inputString();
	    for(int i=0;i<listOfPerson.size();i++)
	    {
	    	if(listOfPerson.get(i).getFname().equals(fname))
	    	{
	    		PersonalDetails temp=listOfPerson.get(i);
	          do {
		            System.out.println("Enter the detail you want to edit: ");
		            System.out.println("Enter 1 to edit Last Name: ");
		            System.out.println("Enter 2 to edit Address: ");
		            System.out.println("Enter 3 to edit City: ");
		            System.out.println("Enter 4 to edit State: ");
		            System.out.println("Enter 5 to edit Zip code: ");
		            System.out.println("Enter 6 to edit Phone Number: ");
		            int choice=u.inputInteger();
		            switch(choice)
		            {
		               case 1:
			                   System.out.println("Enter the new Last Name");
			                   temp.setLname(u.inputString());
			                   System.out.println("Details saved successfully");
			                   break;
			                   
		               case 2:
		            	   System.out.println("Enter the New Address");
		            	   temp.setAddress(u.inputString());
		            	   break;
		            	   
		               case 3:
		            	   System.out.println("Enter the New City");
		            	   temp.setCity(u.inputString());
		            	   break;
		            	   
		               case 4:
		            	   System.out.println("Enter the New State");
		            	   temp.setState(u.inputString());
		            	   break;
		            	   
		               case 5:
		            	   System.out.println("Enter the new Zip code");
		            	   temp.setZip(u.inputInteger());
		            	   break;
		            	   
		               case 6:
		            	   System.out.println("Enter the New Phone Number");
		            	   temp.setPhn(u.inputLong());
		            	   break;
		            	   
		            	   default:
		            		   System.out.println("Invaild choice");
		            		   break;
		            }
	             }while(u.inputBoolean());
	        }
	    	else
	    	{
	    		System.out.println("Name not found");
	    		
	    	}
	    }
	    return listOfPerson;
	}
}
