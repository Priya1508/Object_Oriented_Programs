package com.bridgelabz.addressbook.controller;

import java.io.File;
import java.io.IOException;
import java.util.LinkedList;
import java.util.List;

import org.codehaus.jackson.JsonGenerationException;
import org.codehaus.jackson.map.JsonMappingException;
import org.codehaus.jackson.map.ObjectMapper;

import com.bridgelabz.addressbook.model.PersonalDetails;
import com.bridgelabz.addressbook.repository.Controller;
import com.bridgelabz.addressbook.services.Operation;
import com.bridgelabz.addressbook.services.Utility;

public class AddressBook {

	public static void main(String[] args) throws JsonGenerationException, JsonMappingException, IOException 
	{
		Utility u=new Utility();
		Controller connection=new Controller();
		Operation operation=new Operation();
		PersonalDetails person=new PersonalDetails();
		List<PersonalDetails> list=new LinkedList<>();
		ObjectMapper mapper=new ObjectMapper();
		do
		{
			System.out.println("Enter your choice: ");
			System.out.println();
			System.out.println("Enter 1 to Add a Person's Detail");
			System.out.println("Enter 2 to Delete a Person's Detail");
			System.out.println("Enter 3 to Edit the Person's Details");
			
			int choice=u.inputInteger();
			switch(choice)
			{
			   case 1:
				   List<PersonalDetails> read=connection.readFile();
				   List<PersonalDetails> personlist=operation.addUser(read);
				   mapper.defaultPrettyPrintingWriter().writeValue(new File("AddressBook.json"), personlist);
				   break;
				   
//			   case 2:
//				   List<PersonalDetail>
			}
		}while(u.inputBoolean());
	}
}
